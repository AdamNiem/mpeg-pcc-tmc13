# Test conditions for N17523 CTC C3.W & C3.X (formerly C06/7) using TMC13
#
# todo(df): can these two categories be unified by coding both attrs?
#
---
categories:
  ##
  # Condition 3.W

  # NB, texture to stop complaints about colour/color
  lossless-geom-lossless-texture:
    encflags:
     - mode: 0
     # NB: geometry coding is bypassed in this condition
     - geometryCodec: 0
     - colorTransform: 1
     - positionQuantizationScale: 1
     - neighbourAvailBoundaryLog2: 8

    decflags:
     - mode: 1
     - geometryCodec: 0

    pcerrorflags:
     - dropdups: 2
     - neighborsProc: 1

    sequences:
      citytunnel_q1mm:
        encflags:
         - &mitsubishiLosslessAttrs
            - numberOfNearestNeighborsInPrediction: 4
            - levelOfDetailCount: 9
            - dist2: 134217728 33554432 8388608 2097152 524288 131072 32768 8192 0
            - quantizationStepsLuma: 0 0 0 0 0 0 0 0 0
            - quantizationStepsChroma: 0 0 0 0 0 0 0 0 0
         - attribute: color

      overpass_q1mm:
        encflags:
         - *mitsubishiLosslessAttrs
         - attribute: color

      tollbooth_q1mm:
        encflags:
         - *mitsubishiLosslessAttrs
         - attribute: color

  ##
  # Condition 3.X

  lossless-geom-lossless-reflectance:
    encflags:
     - mode: 0
     # NB: geometry coding is bypassed in this condition
     - geometryCodec: 0
     - positionQuantizationScale: 1
     - neighbourAvailBoundaryLog2: 8

    decflags:
     - mode: 1
     - geometryCodec: 0

    pcerrorflags:
     - dropdups: 2
     - neighborsProc: 1

    sequences:
      citytunnel_q1mm:
        encflags:
         - *mitsubishiLosslessAttrs
         - attribute: reflectance

      overpass_q1mm:
        encflags:
         - *mitsubishiLosslessAttrs
         - attribute: reflectance

      tollbooth_q1mm:
        encflags:
         - *mitsubishiLosslessAttrs
         - attribute: reflectance

      ford_03_q1mm:
        encflags:
         - &fordLosslessAttrs
            - numberOfNearestNeighborsInPrediction: 4
            - levelOfDetailCount: 6
            - dist2: 4194301 1048582 262149 65534 16383 0
            - quantizationStepsLuma: 0 0 0 0 0 0
         - attribute: reflectance

      ford_02_q1mm:
        encflags:
         - *fordLosslessAttrs
         - attribute: reflectance

      ford_01_q1mm:
        encflags:
         - *fordLosslessAttrs
         - attribute: reflectance
