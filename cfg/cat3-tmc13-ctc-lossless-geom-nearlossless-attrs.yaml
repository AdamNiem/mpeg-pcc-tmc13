# Test conditions for N17523 CTC C3.Y & C3.Z using TMC13
#
# todo(df): can these two categories be unified by coding both attrs?
#
---
categories:
  ##
  # Condition 3.Y

  # NB, texture to stop complaints about colour/color
  lossless-geom-nearlossless-texture:
    encflags:
     - mode: 0
     # NB: geometry coding is bypassed in this condition
     - geometryCodec: 0
     - colorTransform: 1
     - positionQuantizationScale: 1

    decflags:
     - mode: 1
     - geometryCodec: 0

    pcerrorflags:
     - dropdups: 2
     - neighborsProc: 1
     - hausdorff

    sequences:
      citytunnel_q1mm:
        encflags:
         - &mitsubishiNearlosslessAttrs
            - numberOfNearestNeighborsInPrediction: 4
            - searchRange: 0
            - levelOfDetailCount: 9
            - dist2: 134217728 33554432 8388608 2097152 524288 131072 32768 8192 0
            - quantizationSteps:
                r01: 2 2 2 2 2 2 2 2 2
                r02: 4 4 4 4 4 4 4 4 4
                r03: 8 8 8 8 8 8 8 8 8
                r04: 16 16 16 16 16 16 16 16 16
                r05: 32 32 32 32 32 32 32 32 32
         - attribute: color

      overpass_q1mm:
        encflags:
         - *mitsubishiNearlosslessAttrs
         - attribute: color

      tollbooth_q1mm:
        encflags:
         - *mitsubishiNearlosslessAttrs
         - attribute: color

  ##
  # Condition 3.Z

  lossless-geom-nearlossless-reflectance:
    encflags:
     - mode: 0
     # NB: geometry coding is bypassed in this condition
     - geometryCodec: 0
     - positionQuantizationScale: 1

    decflags:
     - mode: 1
     - geometryCodec: 0

    pcerrorflags:
     - dropdups: 2
     - neighborsProc: 1
     - hausdorff

    sequences:
      citytunnel_q1mm:
        encflags:
         - *mitsubishiNearlosslessAttrs
         - attribute: reflectance

      overpass_q1mm:
        encflags:
         - *mitsubishiNearlosslessAttrs
         - attribute: reflectance

      tollbooth_q1mm:
        encflags:
         - *mitsubishiNearlosslessAttrs
         - attribute: reflectance

      ford_03_q1mm:
        encflags:
         - &fordNearlosslessAttrs
            - numberOfNearestNeighborsInPrediction: 4
            - searchRange: 0
            - levelOfDetailCount: 6
            - dist2: 4194301 1048582 262149 65534 16383 0
            - quantizationSteps:
                r01: 2 2 2 2 2 2
                r02: 4 4 4 4 4 4
                r03: 8 8 8 8 8 8
                r04: 16 16 16 16 16 16
                r05: 32 32 32 32 32 32
         - attribute: reflectance

      ford_02_q1mm:
        encflags:
         - *fordNearlosslessAttrs
         - attribute: reflectance

      ford_01_q1mm:
        encflags:
         - *fordNearlosslessAttrs
         - attribute: reflectance
