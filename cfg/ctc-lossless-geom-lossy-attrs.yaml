# Test conditions for N17351 CTC C3.2 & C3.3 (formerly C06/7) using TMC3
#  -- derived from svn:r1262 documentation
#
# todo(df): can these two categories be unified by coding both attrs?
#
---
categories:
  ##
  # Condition 3.2

  # NB, texture to stop complaints about colour/color
  lossless-geom-lossy-texture:
    encflags:
     - mode: 2
     - colorTransform: 1
     - positionQuantizationScale: 1

    decflags:
     - mode: 3

    sequences:
      citytunnel_q1mm:
        encflags:
         - &commonAttr
           - numberOfNearestNeighborsInPrediction: 8
           - levelOfDetailCount: 9
           - searchRange: 0
           - dist2: 134217728 33554432 8388608 2097152 524288 131072 32768 8192 0
         - quantizationSteps: &citytunnelq1mmquantizationStepsText
             r01: 1 2 4 8 16 32 64 128 128
             r02: 1 2 4 8 16 32 64 64 66
             r03: 1 2 4 8 16 32 32 32 34
             r04: 1 2 4 8 8 8 16 16 16
             r05: 1 2 4 4 4 4 4 8 8
             r06: 0 1 1 1 2 2 2 2 2
         - quantizationDeadZoneSizes: *citytunnelq1mmquantizationStepsText
         - attribute: color

      tollbooth_q1mm:
        encflags:
         - *commonAttr
         - quantizationSteps: &tollboothq1mmquantizationStepsText
             r01: 1 2 4 8 16 32 64 128 128
             r02: 1 2 4 8 16 32 32 64 64
             r03: 1 2 4 8 16 16 16 32 32
             r04: 1 2 4 8 8 8 8 10 16
             r05: 1 2 4 4 4 4 4 4 6
             r06: 0 0 0 0 0 0 1 1 2
         - quantizationDeadZoneSizes: *tollboothq1mmquantizationStepsText
         - attribute: color

  ##
  # Condition 3.3

  lossless-geom-lossy-reflectance:
    encflags:
     - mode: 2
     - colorTransform: 1
     - positionQuantizationScale: 1

    decflags:
     - mode: 3

    sequences:
      citytunnel_q1mm:
        encflags:
         - *commonAttr
         - quantizationSteps: &citytunnelq1mmquantizationStepsReflec
             r01: 286 571 1143 2286 4571 9143 18286 36571 65536
             r02:  77 154  308  615 1231 2462  4923  9846 19692
             r03:  29  57  114  229  457  914  1829  3657  7314
             r04:  10  20   40   80  160  320   640  1280  2560
             r05:   2   5   10   20   40   80   160   320   640
             r06:   0   1    2    4    8   16    16    32    32
         - quantizationDeadZoneSizes: *citytunnelq1mmquantizationStepsReflec
         - attribute: reflectance

      tollbooth_q1mm:
        encflags:
         - *commonAttr
         - quantizationSteps: &tollboothq1mmquantizationStepsReflec
             r01: 286 571 1143 2286 4571 9143 18286 36571 65536
             r02: 100 200  400  800 1600 3200  6400 12800 25600
             r03:  50 100  200  400  800 1600  3200  6400 12800
             r04:  17  33   67  133  267  533  1067  2133  4267
             r05:   4   8   16   32   64  128   256   512  1024
             r06:   1   2    4    8   16   32    32    32    32
         - quantizationDeadZoneSizes: *tollboothq1mmquantizationStepsReflec
         - attribute: reflectance
